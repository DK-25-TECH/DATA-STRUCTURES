
#include<stdio.h>
#include<stdlib.h>

typedef struct node {
    int data;
    struct node *next;
    struct node *prv;
} *node;

node head1 = NULL;
node head2 = NULL;

node create(int data) {
    node nn = malloc(sizeof(struct node));
    nn->data = data;
    nn->next = NULL;
    nn->prv = NULL;
    return nn;
}

void insbeg(node *head, int data) {
    node nn = create(data);
    if (*head == NULL) {
        *head = nn;
        return;
    }
    nn->next = *head;
    (*head)->prv = nn;
    *head = nn;
}

void insert(node *head, int data) {
    node x = create(data);
    node cur = *head;

    if (*head == NULL) {
        *head = x;
        return;
    }

    if (x->data > (*head)->data) {   
        x->next = *head;
        (*head)->prv = x;
        *head = x;
        return;
    }

    while (cur->next != NULL && cur->next->data > x->data) {
        cur = cur->next;
    }

    if (cur->next == NULL) {      
        cur->next = x;
        x->prv = cur;
        return;
    }

   
    x->next = cur->next;
    x->prv = cur;
    cur->next->prv = x;
    cur->next = x;
}

void display(node head) {
    if (head == NULL) {
        printf("List is empty\n");
        return;
    }
    node tp = head;
    while (tp != NULL) {
        printf("%d ", tp->data);
        tp = tp->next;
    }
    printf("\n");
}

void final(node *head1,node *head2)
{
    if(*head1==NULL)
    {
        *head1=*head2;
        return;
    }
    if(*head2==NULL)
    {
        return;
    }
    node x=*head1;
    while(x->next!=NULL)
    {
        x=x->next;
    }
    x->next=*head2;
    (*head2)->prv=x;
    node i,j;
    for(i=*head1;i!=NULL;i=i->next)
    {
        for(j=i->next;j!=NULL;j=j->next)
        {
            if(i->data>j->data)
            {
                int x=i->data;
                i->data=j->data;
                j->data=x;
                
            }
        }
    }
    
}
int main() {
   
    insbeg(&head1, 10);
    insbeg(&head1, 20);
    insbeg(&head1, 30);
    insbeg(&head1, 40);
    insert(&head1, 25);  


    insbeg(&head2, 100);
    insbeg(&head2, 200);
    insbeg(&head2, 300);
    insbeg(&head2, 400);
    insert(&head2, 150);
    final(&head1,&head2);

    display(head1);
}


